<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Insteon controller</title>
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.25">
    <style>
      body { background-color: black; color: white; margin: 10; }
      td { text-align: center; }
      .l { text-align: left; font-weight: bold; color: orange; }
      .bb { padding: 4px; width:80px; border-radius: 4px; }
      .bb-sm { padding: 2px; width:25px; border-radius: 2px; }
    </style>
  </head>
  <body>

<script type="text/javascript">

function setVal(newVal) {
  document.getElementById("slide").value = newVal;
}

function send_cmd(target, cmd) {
  url = "/homesec/trigger/" + target + ", " + cmd + "/control";
  console.log("sending: " + url);
  document.getElementById('iframe1').setAttribute('src', url);
}

function send(target, bulb=false, dimmable=true) {
  val = document.getElementById("slide").value;
  setVal((val == 0) ? 70 : 0);
  prefix = bulb ? "bulb-" : "";
  if (val == 0) {
    send_cmd(target, prefix + "off");
  } else {
    newval = dimmable ? "dim:" + val : "on";
    send_cmd(target, prefix + newval);
  }
}


// ----------

</script>
    <button class="bb-sm" style="color: green" onclick="setVal(0)">0</button>
    <input type="range" id="slide" min="0" max="100" value="70" step="10" />
    <button class="bb-sm" style="color: red" onclick="setVal(100)">1</button>

    &nbsp;&nbsp;&nbsp;&nbsp;<iframe id="iframe1" src="" height=25 width=140 style="color: white; background-color: grey; vertical-align:bottom">...</iframe>

    <p>
    <table cellpadding=2>
      <tr>
	<td colspan='9' class="l">Global scenes</td></tr>
	<td><button class="bb" onclick='send("all_off")'>all off</button></td>
	<td><button class="bb" onclick='send("outside_off")'>out off</button></td>
	<td><button class="bb" onclick='send("inside_off")'>in off</button></td>
      </tr><tr>
	<td><button class="bb" onclick='send("all_on")'>ALL ON</button></td>
	<td><button class="bb" onclick='send("outside_full")'>OUT ON</button></td>
	<td><button class="bb" onclick='send("inside_full")'>IN ON</button></td>
      </tr><tr>
        <td colspan='9' class="l">Activity scenes</td></tr>
	<td><button class="bb" onclick='send("inside_med")'>down med</button></td>
	<td><button class="bb" onclick='send("bedtime")'>bedtime</button></td>
	<td><button class="bb" onclick='send("dining")'>dining</button></td>
	<td><button class="bb" style="background-color:red" onclick='send("panic")'>PANIC</button></td>
      </tr><tr>
	<td><button class="bb" onclick='send("tv")'>tv</button></td>
	<td><button class="bb" onclick='send("down_dim")'>down dim</button></td>
	<td><button class="bb" onclick='send("away")'>away</button></td>
	<td><button class="bb" onclick='send("cooking")'>cooking</button></td>
      </tr><tr>
        <td colspan='9' class="l">Areas</td></tr>
	<td><button class="bb" onclick='send("bedrm")'>bedrm</button></td>
	<td><button class="bb" onclick='send("fam")'>family</button></td>
	<td><button class="bb" onclick='send("kit")'>kitchen</button></td>
	<td><button class="bb" onclick='send("main")'>main</button></td>
      </tr><tr>
        <td colspan='9' class="l">Bedroom</td></tr>
	<td><button class="bb" onclick='send("bed")'>rope</button></td>
	<td><button class="bb" onclick='send("bedroom-entrance")'>enter</button></td>
	<td><button class="bb" onclick='send("bedroom-light")'>main</button></td>
      </tr><tr>
        <td colspan='9' class="l">Lounge</td></tr>
	<td><button class="bb" onclick='send("lounge")'>lounge</button></td>
	<td><button class="bb" onclick='send("window-lights")'>wind</button></td>
	<td><button class="bb" onclick='send("bendy")'>bendy</button></td>
      </tr><tr>
        <td colspan='9' class="l">Office</td></tr>
	<td><button class="bb" onclick='send("office")'>chand</button></td>
      </tr><tr>
        <td colspan='9' class="l">Kitchen</td></tr>
	<td><button class="bb" onclick='send("kitchen")'>kitchen</button></td>
	<td><button class="bb" onclick='send("kitchen-pendants")'>pendants</button></td>
	<td><button class="bb" onclick='send("breakfast-nook")'>nook</button></td>
      </tr><tr>
        <td colspan='9' class="l">Family room</td></tr>
	<td><button class="bb" onclick='send("dining-chandelier")'>chand</button></td>
	<td><button class="bb" onclick='send("family-room-left")'>fam-L</button></td>
	<td><button class="bb" onclick='send("family-room-right")'>fam-R</button></td>
      </tr><tr>
        <td colspan='9' class="l">Outside</td></tr>
	<td><button class="bb" onclick='send("lantern", true)'>lantern</button></td>
	<td><button class="bb" onclick='send("door-entry", true)'>entry</button></td>
	<td><button class="bb" onclick='send("patio")'>patio</button></td>
      </tr><tr>
	<td><button class="bb" onclick='send("rear-flood")'>flood</button></td>
	<td><button class="bb" onclick='send("garage", true)'>garage</button></td>
	<td><button class="bb" onclick='send("out-all", false, false)'>landscaping</button></td>
      </tr><tr>
        <td colspan='9' class="l">Garage</td></tr>
	<td><button class="bb" onclick='send("gh1")'>gh1</button></td>
	<td><button class="bb" onclick='send("gh0")'>gh0</button></td>
      </tr><tr>
	<td><button class="bb" onclick='send("garage-L")'>gd-L</button></td>
	<td><button class="bb" onclick='send("mobile-bulb", true)'>mobile</button></td>
	<td><button class="bb" onclick='send("garage:bulb-off")'>g off</button></td>
      </tr><tr>
        <td colspan='9' class="l">Special</td></tr>
	<td><button class="bb" onclick='send("xmas")'>xmas</button></td>
	<td><button class="bb" onclick='send("space-heater", false, false)'>heater</button></td>
	<td><button class="bb" onclick='send("homesec1", false, false)'>homesec1</button></td>
      </tr><tr>
	<td><button class="bb" onclick='send("party", false, false)'>PARTY</button></td>
	<td><button class="bb" onclick='send("tree", false, false)'>neotree</button></td>
	<td><button class="bb" onclick='send("tp-tree", false, false)'>tp-tree</button></td>
      </tr><tr>
	<td><button class="bb" onclick='send("siren1", false, false)'>siren1</button></td>
	<td><button class="bb" onclick='send("siren2", false, false)'>siren2</button></td>
	<td><button class="bb" onclick='send("siren3", false, false)'>siren3</button></td>
      </tr><tr>
        <td colspan='9' class="l">Landscaping</td></tr>
	<td><button class="bb" onclick='send("out-monument", false, false)'>Monument</button></td>
	<td><button class="bb" onclick='send("out-sconce", false, false)'>Sconce</button></td>
	<td><button class="bb" onclick='send("out-front-path", false, false)'>F path</button></td>
      </tr><tr>
	<td><button class="bb" onclick='send("out-front-moon", false, false)'>F moon</button></td>
	<td><button class="bb" onclick='send("out-front-up", false, false)'>F up</button></td>
	<td><button class="bb" onclick='send("out-maple", false, false)'>Maple</button></td>
      </tr><tr>
	<td><button class="bb" onclick='send("out-magnolia", false, false)'>Magnolia</button></td>
	<td><button class="bb" onclick='send("out-holly", false, false)'>Holly</button></td>
	<td><button class="bb" onclick='send("out-arch", false, false)'>R arch</button></td>
	<td><button class="bb" onclick='send("out-moon", false, false)'>R moon</button></td>
      </tr><tr>
      </tr><tr>
      </tr>
    </table>
  </body>
</html>
